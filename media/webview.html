<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EcoDebugger</title>
    <link rel="stylesheet" href="{{styleUri}}" />
</head>
<body>
    <div class="container">
        <div class="tabs">
            <div class="tab active" id="tab-xp">XP/Level</div>
            <div class="tab" id="tab-badges">Badges</div>
            <div class="tab" id="tab-eco">Eco Tips</div>
            <div class="tab" id="tab-leader">Leaderboard</div>
            <div class="tab" id="tab-settings">Settings</div>
        </div>

        <!-- XP/Level Tab -->
        <div id="tab-content-xp" class="fade-in">
            <div class="level-box">
                <span class="level">Level <span id="level">1</span></span>
                <span class="xp"><span id="current-xp">0</span> XP</span>
                <div class="progress-bar">
                    <div id="progress-fill"></div>
                </div>
                <div class="xp-log">
                    <!-- XP log entries will be dynamically injected -->
                </div>
            </div>
            
            <div class="game-section">
                <h3>Mini Game: Bug Fixer</h3>
                <div id="game-instructions">Find and fix a bug to earn XP!</div>
                <button id="fix-bug-btn">Fix Bug</button>
                <div id="game-feedback"></div>
            </div>
        </div>

        <!-- Badges Tab -->
        <div id="tab-content-badges" style="display:none;">
            <h3>Achievements</h3>
            <div id="achievements-list">
                <!-- Achievements will be dynamically injected -->
            </div>
        </div>

        <!-- Eco Tips Tab -->
        <div id="tab-content-eco" style="display:none;">
            <h3>Eco Tips Log</h3>
            <div id="eco-tips-list">
                <!-- Eco tips will be dynamically injected -->
            </div>
        </div>

        <!-- Leaderboard Tab -->
        <div id="tab-content-leader" style="display:none;">
            <h3>Classroom Leaderboard</h3>
            <div class="leaderboard-meta">
                <span>Classroom Code: <b id="classroom-code"></b></span>
                <span>Weekly Top: <b id="weekly-top"></b></span>
            </div>
            <div class="classroom">
                <div class="join-class">
                    <input id="class-code-input" type="text" placeholder="Enter class code" />
                    <button id="join-class-btn">Join</button>
                </div>
                <div id="leaderboard-list">
                    <!-- Leaderboard entries will be dynamically injected -->
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div id="tab-content-settings" style="display:none;">
            <h3>Settings</h3>
            <div class="settings">
                <label>
                    <input type="checkbox" id="eco-tips-toggle" />
                    Enable Eco Tips
                </label>
                <label>
                    <input type="checkbox" id="groq-ai-toggle" />
                    Enable Groq AI
                </label>
                <button id="reset-xp">Reset XP/Achievements</button>
            </div>
        </div>
    </div>

    <!-- Achievement Modal -->
    <div id="achievement-modal" class="modal hidden">
        <div class="modal-content">
            <span id="close-modal">&times;</span>
            <h3 id="achievement-title"></h3>
            <p id="achievement-description"></p>
        </div>
    </div>

    <script src="{{mainJsUri}}"></script>
</body>
</html>
